<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>dotJS 2015 Notes</title>

    <link href="/stylesheets/normalize.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/all.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/code.css" rel="stylesheet" type="text/css" />
    <script src="/javascripts/all.js" type="text/javascript"></script>
  </head>

  <body class="dotjs2015 dotjs2015_index">
    <article>
      <h1>dotJS 2015</h1>

<p><em>December 7, 2015, Paris, France</em></p>

<ol>
<li><a href="#modern-async-js">Modern Async JS</a></li>
<li><a href="#hyperdrive">Hyperdrive</a></li>
<li><a href="#dealing-with-garbage">Dealing With Garbage</a></li>
<li><a href="#http-2">http/2 is here, now let&rsquo;s make it easy</a></li>
<li><a href="#practical-es6">Practical ES6 for the Modern Javascript Tinkerer</a></li>
<li><a href="#var">The Whole Future Declared in a <code>var</code></a></li>
<li><a href="#real-world-webrtc">Real World WebRTC</a></li>
<li><a href="#templating-engines">Templating Engines</a></li>
<li><a href="#teaching-kids-to-code">Teaching Kids to Code</a></li>
<li><a href="#pocket-sized-js">Pocket-sized JS</a></li>
<li><a href="#web-evolution-in-action-2">Web Evolution in Action 2</a></li>
</ol>

<p><a name="modern-async-js"></a></p>

<h2>Modern Async JS</h2>

<p><em><a href="#">Christophe Porteneuve</a></em></p>

<h3>Callbacks</h3>

<ul>
<li>No return values</li>
<li>Errors are often not properly propagated</li>
<li>Untrustworthy: there is no guarantee the callback will be executed</li>
<li><p>Composition doesn&rsquo;t work well</p></li>
<li><p>Async.js</p>

<ul>
<li>No extra oncepts</li>
<li>No abstraction penalty</li>
<li>Wide range of use cases</li>
<li>Well-tested</li>
</ul></li>
</ul>

<h3>Promises</h3>

<ul>
<li>State of the art: wide support in modern libraries</li>
<li>Native in ES6</li>
<li>Trustworthy: only one callback, only once, guaranteed</li>
<li>Exceptions!</li>
<li>Composable: chainable, with injection and casting</li>
</ul>

<p>However</p>

<ul>
<li>New abstraction</li>
<li>Slight perfomance penalty</li>
<li>Code-flow is often not intuitive</li>
</ul>

<h3>Generators</h3>

<p>Allows to do lazy eval in JS</p>

<ul>
<li>Coroutines</li>
<li>Composable</li>
</ul>

<p>But not async :(</p>

<h3>Generators + Promises!</h3>

<ul>
<li>Code is async, while looking as sync</li>
</ul>

<p>But:</p>

<ul>
<li>This is hacky</li>
<li>Added weigth</li>
<li>&hellip;</li>
</ul>

<h3>async/await</h3>

<p>Borrowed from C# .NET 5.0. Currently ES Stage 3, almost certainly ES7, available in Edge.</p>

<ul>
<li>Suboptimal for now</li>
</ul>

<p><a name="hyperdrive"></a></p>

<h2>Hyperdrive</h2>

<p><em><a href="#">Mathias Buus</a></em></p>

<p>Hyperdrive is a p2p file-sharing network.</p>

<p><a href="https://en.wikipedia.org/wiki/Rabin_fingerprint">Rabin fingerprinting</a> for chunk deduplication.</p>

<p><a name="dealing-with-garbage"></a></p>

<h2>Dealing With Garbage</h2>

<p><em><a href="#">Samuel Saccone</a></em></p>

<p>Momory profiling like a PRO</p>

<ol>
<li>Identify clean action sets</li>
<li>Measure what is happening: timeline recording + heap snapshots</li>
<li>Analyze results</li>
<li>Apply patches</li>
<li>Rinse and repeat</li>
</ol>

<p>Automate this with Drool.</p>

<p><a name="http-2"></a></p>

<h2>http/2 is here, now let&rsquo;s make it easy</h2>

<p><em><a href="#">Rebecca Murphey</a></em></p>

<ul>
<li>One connection per host</li>
<li>Server push</li>
<li>Prioritization</li>
<li>HTTPS is required by browsers</li>
</ul>

<p>Server push doesn&rsquo;t really work atm, it gets accepted too late.</p>

<p><a name="practical-es6"></a></p>

<h2>Practical ES6 for the Modern Javascript Tinkerer</h2>

<p><em><a href="#">Nicolas Bevacqua</a></em></p>

<ul>
<li>Arrow function</li>
<li>Destructive assignment</li>
<li>Rest parameters</li>
<li>Spread operator</li>
<li>Template literals</li>
<li><code>let</code> variables</li>
<li>Constants</li>
<li>&hellip; and many more</li>
</ul>

<p><a name="var"></a></p>

<h2>The Whole Future Declared in a <code>var</code></h2>

<p><em><a href="#">Andre Medeiros</a></em></p>

<p>Use Observer pattern to bind values instead of evaluating them in place. Reactive programming and so on.</p>

<p>RxJS provides <code>Observable</code> type.</p>

<p><a name="real-world-webrtc"></a></p>

<h2>Real World WebRTC</h2>

<p><em><a href="#">Eric Schoffstall</a></em></p>

<h3>Camera</h3>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">opt</span> <span class="o">=</span> <span class="p">{</span><span class="na">video</span><span class="p">:</span> <span class="kc">true</span><span class="p">};</span>
<span class="nx">navigator</span><span class="p">.</span><span class="nx">getUserMedia</span><span class="p">(</span><span class="nx">opt</span><span class="p">,</span> <span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
</code></pre>

<p>HTTPS-only!</p>

<h3>Peer-to-peer</h3>
<pre class="highlight javascript"><code><span class="c1">// Sender</span>
<span class="kd">var</span> <span class="nx">pc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PeerConnection</span><span class="p">();</span>
<span class="nx">ps</span><span class="p">.</span><span class="nx">assStream</span><span class="p">(</span><span class="cm">/* ... */</span><span class="p">);</span>
</code></pre>

<p>Works over:</p>

<ul>
<li>TCP &ndash; reliable, ordered, byte-oriented</li>
<li>UDP &ndash; unreliable, unordered, message-oriented</li>
<li>SCTP &ndash; reliability and order are configurable, message-oriented</li>
</ul>

<p>Neither Safari nor IE (surprise!) has no support for WebRTC.</p>

<ul>
<li>iosrtc for iOS</li>
<li>Temasys for IE/Safare</li>
</ul>

<p><a href="http://rtc.works">RTC Everywhere</a> &ndash; cross-platform WebRTC modules.</p>

<p><strong>Pro Tip:</strong> Mechanical Turk allow one to organize political protest and a movements.</p>

<p><a name="templating-engines"></a></p>

<h2>Templating Engines</h2>

<p><em><a href="#">Forbes Lindesay</a></em></p>

<p><a href="#">Pug</a> &ndash; yet another templating engine.</p>
<pre class="highlight plaintext"><code>article
  h1 Title
  p Body
  include ./content.pug
</code></pre>

<p><strong>Pro Tip</strong>: when parsing includes, merge ASTs, not the content.</p>

<p><a name="Teaching-kids-to-code"></a></p>

<h2>Teaching Kids to Code</h2>

<p><em><a href="#">Tim Caswell</a></em></p>

<p><a name="pocket-sized-js"></a></p>

<h2>Pocket-sized JS</h2>

<p><em><a href="#">Henrik Joreteg</a></em></p>

<p><a href="https://slides.joreteg.com/dotjs/">Slides</a></p>

<h3>You can&rsquo;t expect fast connection</h3>

<p><em>Actually you can&rsquo;t expect connection at all.</em></p>

<p>Optimize code size, images, don&rsquo;t overuse frameworks.</p>

<p>Soundslice &ndash; a music sheet editor in 94Kb of JS code.</p>

<h3>You can&rsquo;t expect the hardware to be fast</h3>

<p>Don&rsquo;t try to fit desktop app into mobile.</p>

<ul>
<li>Test on real mobile device</li>
<li>Pre-render HTML</li>
<li>Ship less code

<ul>
<li>Don&rsquo;t use templates, complete re-render is cheap enough</li>
<li>Don&rsquo;t use observable models (Redux might be an option)</li>
<li>Don&rsquo;t need a router, browser does it better</li>
<li>Replace <code>react</code> with <code>virtual-dom</code> if only virtual DOM is needed</li>
</ul></li>
</ul>

<p><a name="web-evolution-in-action-2"></a></p>

<h2>Web Evolution in Action 2</h2>

<p><em><a href="#">Brendan Eich</a></em></p>

<p>The web is messy because of compatability which is growing.</p>

<p>asm.js is a genisis of JS compilation.</p>

<p>WebAssembly</p>

    </article>
  </body>
</html>
